{% extends 'base.html'%}
{% block title %}Riddle{% endblock %}
{% block content %}

{% if session['message'] == "skipped" %}
<p>I'm sorry you had to skip the last question, {{ session['user']|title}}.</p><p>I hope you have better luck with this one!</p>
<hr>
{% endif %}
{% if question_number == 1 %}
<p>Welcome, {{ session['user']|title }}! Are you ready for your first riddle? Good luck!</p>
{% elif question_number == 10 %}
<p>And now the last question, {{ session['user']|title}}!</p>
{% endif %}
<p><strong>Reminder:</strong> The sphinx looks for a specific keyword in your answer. You can phrase it any way you
  like: A full sentence, a phrase, a few words or if you're feeling very brave, try and guess the sphinx' expected
  keyword!</p>
  <hr>
{% for riddle in riddles %}
{% if ( loop.index == question_number|int ) and ( loop.index <= 10 ) %} 
<div class="riddle">
  <p>{{loop.index}}. {{riddle.riddle|safe}}</p>
</div>
  <form name="riddles" method="POST" action="">
    <div class="form-group">
      <input class="field hidden" type="text" name="question_number" id="question_number" placeholder="Question Number"
        value="{{ loop.index }}"></div>
    <div class="
      form-group">
      <input class="field hidden" type="text" name="correct_answer" id="correct_answer" placeholder="Your answer" value="{{ riddle.answer }}">
    </div>
    <div class="form-group">
      <input class="field" type="text" name="guess" id="guess" placeholder="Your answer" required>
    </div>
    <div class="form-group">
      <button type="submit" class="btn btn-warning btn-lg" value="user_answer">Submit</button>
      <a href="{{ url_for('skip') }}" class="btn btn-warning btn-lg">Skip</a>
    </div>
  </form>
  {% endif %}

  {% endfor %}

  {% endblock%}